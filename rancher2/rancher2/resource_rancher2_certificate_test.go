package rancher2

import (
	"fmt"
	"testing"

	"github.com/hashicorp/terraform-plugin-sdk/helper/resource"
	"github.com/hashicorp/terraform-plugin-sdk/terraform"
)

const (
	testAccRancher2CertificateType = "rancher2_certificate"
)

var (
	testAccRancher2CertificateProject          string
	testAccRancher2CertificateNamespace        string
	testAccRancher2CertificateConfig           string
	testAccRancher2CertificateUpdateConfig     string
	testAccRancher2CertificateRecreateConfig   string
	testAccRancher2CertificateNsConfig         string
	testAccRancher2CertificateNsUpdateConfig   string
	testAccRancher2CertificateNsRecreateConfig string
)

func init() {
	testAccRancher2CertificateProject = `
resource "rancher2_project" "foo" {
  name = "foo"
  cluster_id = "` + testAccRancher2ClusterID + `"
  description = "Terraform namespace acceptance test"
  resource_quota {
    project_limit {
      limits_cpu = "2000m"
      limits_memory = "2000Mi"
      requests_storage = "2Gi"
    }
    namespace_default_limit {
      limits_cpu = "500m"
      limits_memory = "500Mi"
      requests_storage = "1Gi"
    }
  }
}
`

	testAccRancher2CertificateNamespace = `
resource "rancher2_namespace" "foo" {
  name = "foo"
  description = "Terraform namespace acceptance test"
  project_id = "${rancher2_project.foo.id}"
  resource_quota {
    limit {
      limits_cpu = "100m"
      limits_memory = "100Mi"
      requests_storage = "1Gi"
    }
  }
}
`

	testAccRancher2CertificateConfig = testAccRancher2CertificateProject + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test"
  project_id = "${rancher2_project.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
`

	testAccRancher2CertificateUpdateConfig = testAccRancher2CertificateProject + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test - updated"
  project_id = "${rancher2_project.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
`

	testAccRancher2CertificateRecreateConfig = testAccRancher2CertificateProject + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test"
  project_id = "${rancher2_project.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
`

	testAccRancher2CertificateNsConfig = testAccRancher2CertificateProject + testAccRancher2CertificateNamespace + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test"
  project_id = "${rancher2_project.foo.id}"
  namespace_id = "${rancher2_namespace.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
`

	testAccRancher2CertificateNsUpdateConfig = testAccRancher2CertificateProject + testAccRancher2CertificateNamespace + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test - updated"
  project_id = "${rancher2_project.foo.id}"
  namespace_id = "${rancher2_namespace.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
 `

	testAccRancher2CertificateNsRecreateConfig = testAccRancher2CertificateProject + testAccRancher2CertificateNamespace + `
resource "rancher2_certificate" "foo" {
  name = "foo"
  description = "Terraform certificate acceptance test"
  project_id = "${rancher2_project.foo.id}"
  namespace_id = "${rancher2_namespace.foo.id}"
  key = "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBcXBQQTltcFkzVTBrU3d3WFBETmhySEE2SE1wZHpadzJ4dEo1bnpKQTk5bTUrUnNSClpKSDYxeDRVanNkNGtPU0NjTUZEUEdLMjFhUFJwUnFpNjVxa3lXUGVVU0dYQkFRSVM4TWJaamxsdjJoWFNmaXIKYUZvUm1uT0U5VU1PRmVYbEQrWTF5VnhUOG9UMWFDRHJMNG1hNnRRREdZT1pRNmpJU3NzVUk3b05zSEN0bTZzdApyY3VLc3hIdWo4U0tScDJ4MkVTNHZETjdmQVliQmwrQ1RJcWh0NFJxR2pYNzZjRlFJazRTbXl1TzJxa2R0L2ZVCmp2Ukt5Mk9SdDYxeW43SzRIUDhVTlhFR1k3WUpobExNUndsTGRpYzAyT05BcW9pQlQ5eW9ycE8wUDA3OHhUUU4KYjdudXlZMGc1NDA4em41K2tEUlZYQ2Y5bTRvS09TYVp1NXRSbWNORzdvR215MCtNVHNKbGFBcWlNNjdzdGxqYwo1QVVFMHhFbUcxK09TZTF5dk1icFF3bVdkL2wra1YwL0xEVlJLQ1dhdUtpSmkzb0kwVlNDUnJjYjZkT0lWcURzCnpqU1lMNEh6THhTWHV1TzN4N2VzNk1FaGtMTTlJL1ZYQWF4YzRoNFN1SFRIMlpnMGJYbDUrUEdRYnF6cW8xaUwKYThYczg3SXVSZ01SUktvVmJUdzhIYjNYbWNIVy9Kdi8ycnp2UHFHTGluZWFmZnVHa21BdmlibmJ3WFVrWEdjagpnVGNJZHVXR1NxL0VmY2NsQzFMc3pFc3p2eW1ZTlRWNFh0c0ZPSyt5NFdESC8xVTBjRGZpKzZ3T2pFdkMzZzFKCkRJOGpYdEZsQUpTcWMvZ0lJYlRRNDJoa1BmempnaGM1V3NRVE04bU03WmZocmQ4REZjYVJJbmhvVFlVQ0F3RUEKQVFLQ0FnQVIwdDZXNFFYb0dlZHc4Qko5ZCtEODQ3MHV4UGFJUllwenZBcDVXQWJ4M3c1UHVVUlgvZWo0RVd5VQpmc05hWUlaQXdmRUVua3Y4aHVHaEh1ZG5Od0dCQ2E1eFM5RTcyakFEdXA5aVR4MFNveFI3NWtBQzUyWnZmU0tuCmZobzZyNHIvM2s1QWZDVkpjaHN5aGo0TStaUDJkYkRkT2FNS0x0aSs5L2xpd2s0cjRacENhZUNjQ0dpMXpXbmcKRytsVzk2TmR0ZENYMmNsTmJGWG1sSlJJNnpONnVadGNvY2R3NVlJNkUyNWVTRzdrNmtid3NqVER1ME1WZlpIOApYMk5hekpId2RiYm0zcWlNUXJrOEQrcklnWEFoS0hlZE1pSFByL1BUSkh0N3duTlRLaTIvYlhENSs3TzMyOGRVCmFxMnY1Z2ZUaWFSaHZNd0ROS2xjejJ2QTdyblg2NkVJbUUzVC9xOTZHRVVTSlp1dlNyOFZyNVQvdGxqTWRZOFAKWTlqRjJnQjAvSGRXTk1RcUs4WlZuaTBoRE5kSlhieVdZZHJoUVBPd0ZxeENVckp3MkM1cmwxSzNpdmlSSDdxRwovbU5Rb1lGemk1RVZIRTZMOSt6U2lDd0RNdU44OFJCNzFTbHRQcXYwSEF1bUN3T1NiaFd2M242L2FRejlBK0R5ClF4RUZzdndJSXAyUDF6OSt3U1FLSnRnaG5ycUc4SVhBU01nK28zU0NMM0d2c21uc29wa2VvL0lwS1FnNXVxM0cKalo5eXovekZQb0FPcEszcXVKYTRUbUkzZ1VHYmtQQ1NKaG1ZZkhzNk1Bc2JOQmNXQ3p1bnZSbC9HU2t4akxKcgp0SmFpNWZnYW5RSENuRHBVMTdINXBsVmxIc0hvSzNES2t6RFdtejJ4NDFnRHBsOHhBUUtDQVFFQTFja0lxaEFGCklsWVhpaE9QZy9DYjBmb1k4UUhXLzlMUzNFOStmTWUwQ29zYW9KRTJkZVJpYkRrN3c5dUJ4ZWJhbldqdTE2UnUKb2h1RWtmaWVndFFFaUFCNzNzeHREcmVoZUlaS2Fyakd3NHE2T2Y3eUVpOXVPazdTQUpra0VHbEprVitXbFhkYwpobFZYMzB1MUI0eS9SVlBHNjBPdVhNbUw0RERoaE1KRnVPRmY4MitMR1psOWoxQmxDL21aaVMzUmt5L3FjOFhxCjZQYUt5U2hVRUp4d2Y3cXpNWlRsaUNabEhIRzFwcWdKNHZKUkRnWlpYb2hhKzdJamRHSFVyWC8yZTA1VkQ0THMKMUZiM0pJZnFTVG9PbW5JbU95WnhGbFI1UFNaL0tHaUI3TVljSHdPaXlvOGRkdG9ON2YzT25YR0lGN1o3UDNGYwpkd2NSZTlQYzhDZTh6d0tDQVFFQXpFS0dZK2piUGRSa1kycVQ4S1RaYXNQeHlyNzNFRDNieUNWaGorMnpGMDN6Cm5GQXNiRzN2M3pJa1lrSXpDTksrWkJXRnIvTmFBaldpZ09FKytPTkcvYzBZdjh3VjNySUw3cXdMTlhLNmhtRG0KdVZIVGZjTXJ6UEJTWGhFdHpMK1FtbzJRNmVKWHJ0WUNLYjI5RmVxb3cyWGtDOVlzWHhyT0VYZkhvaExhNTVHSwo4VUpRRWJteTV3NkxNVzgxbE12Ni80ZENLY3E2SEp6NlNJYzk0YlhJSGQ3WksxdmdETHpoMDVEeWhCb0xQVlhTClh3VVBkU3dEQ2ZUOU9oMS9TQmlFZ0gveVdUUmdvWitkdlFib3ZrSXJFRnJHY21OWSt1UUhjOHZ5emtOMXdua0gKTUVGTjJjS0xnMk80b3JCYVdjN2Vvb3ltMVFWOEJTSE9hOTFQS2FRdGF3S0NBUUFHb2JyY0U2MGxHSWlZWnV6dgp5ZG43bEllTGltUVNBWWM3QUZoTEpLTElKUEtKZ3BldTVvdkxFYWR4OXZBNnBHT3B1R1NZV2VoNHJPUGE1MXg3CmNIcEhnY1JWNy85K0VtSTI2K3VKRGZ4VWVvdzJXbHRHQnlTak9HaTVUZ2JaWDNyQndMWmFJcDdES0FpV3k3RnMKNzRmTGJjTGc3M09NTzFCVWZ3K3YzNXJzRmttMHNvUWRJaTdMOEZHQ0lwY0pzMXNwOXJXT0s5aVNxM3M0ckVDWApWMU1DRTFlVnRTbTlwSHRFZTU2SDhmU0Vqc0hHN3BsOUhqdThUUlZlZWQ1d0YyVWRCQndOWkNGV29PLy91UnVpCmMrT2FGT3Bzc1UrV3dyNFVFSXFuUlQ2cWlxYTZxNUUwT1daUGxvb1NGT3FBNWRHejhwdzJKcDBZc0NaeHNldkwKbzEvdkFvSUJBUUMydjVKVGswT01keGwySlNYRmVRZ1kwTVRrKzZRNmdNM0JyVWd6cUp6QjdmbFdVaGpjemlOOQowdlBnZ1kvOWhlZlh6YlcxYlltTFRvZGN2YXBFcmJ1WFdjZVoyak42OGx0Z3A4YkRoQ2xFRHpCK2Y2b3o2OG1sCmF5S1dqTklvVFFCSWR2NC9jMFcxNUQwOU1VZ2FjcitaU3ZFVWNnTnk5NTJFM1dEY0xmaHlsTEgyRnJsaWtuMXcKNG45QXRGb0JEZHM4Z2J4OWZhYXo4UEt3cjJkN0tOT3BmZmRaSnJNM1Vrck5xZktBcEhpSDROLytLWjNoM0lXLwpnOVNJQ1ZvV20vRDRzd0NXTlJsN29UNVVuL2plT0g4ays4SnZGMW5GNXZ5UDZ0b0xGeW9sMjNqR0FMZHhhL0M4CmxoemNXZUlNVmR5MUhCZ3JvT09NQitvU2NZZmhIc1dQQW9JQkFRRE9wbkpSN2gzQ3IwOEJzQUEycEtNdHhkYXgKcXQ4VkN3eDdYY3lnaHhOdkYzcUVySm42L3VKSEExVUtSMG9RRzl1bjZWNk0vaWVpL2pJNGdYY1hoc2duK1JncQpmR2pZUndrYjZ0Nm5wZkx0VzZPdU9lTUtBOHBJeXJSMy9VQjN5eHNjZTNpYjdxQ0s3ZkhYUlQ5V2YyN254cm1qCmk3SC9vcjBFWFBmRzFqa09NdHRsY1VTM3crVVNDZ1BIQWRUaW40Tk9uR3g4OUpoK1p5Y21LM01pQjBJald1cVYKYU1uWURiTWoyakVQVkFQSFBQelNMeWlDOVF4bEpuTEZnZlNlM0tvYi9HN280aG9VVVQzcGFQMmRsdStNTFh2QgpvWXR5bW5XS1FTdkVtemZuLzFJdHRTV0VwakhFZVowZ2VacnR5UGNDdEhNVUxLMlIvMmxBTkpHRXdVUGkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
  certs = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
}
 `
}

func TestAccRancher2Certificate_basic_Project(t *testing.T) {
	var reg interface{}

	resource.Test(t, resource.TestCase{
		Providers:    testAccProviders,
		CheckDestroy: testAccCheckRancher2CertificateDestroy,
		Steps: []resource.TestStep{
			resource.TestStep{
				Config: testAccRancher2CertificateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
			resource.TestStep{
				Config: testAccRancher2CertificateUpdateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test - updated"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
			resource.TestStep{
				Config: testAccRancher2CertificateRecreateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
		},
	})
}

func TestAccRancher2Certificate_disappears_Project(t *testing.T) {
	var reg interface{}

	resource.Test(t, resource.TestCase{
		Providers:    testAccProviders,
		CheckDestroy: testAccCheckRancher2CertificateDestroy,
		Steps: []resource.TestStep{
			resource.TestStep{
				Config: testAccRancher2CertificateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					testAccRancher2CertificateDisappears(reg),
				),
				ExpectNonEmptyPlan: true,
			},
		},
	})
}

func TestAccRancher2Certificate_basic_Namespaced(t *testing.T) {
	var reg interface{}

	resource.Test(t, resource.TestCase{
		Providers:    testAccProviders,
		CheckDestroy: testAccCheckRancher2CertificateDestroy,
		Steps: []resource.TestStep{
			resource.TestStep{
				Config: testAccRancher2CertificateNsConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
			resource.TestStep{
				Config: testAccRancher2CertificateNsUpdateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test - updated"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
			resource.TestStep{
				Config: testAccRancher2CertificateNsRecreateConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "name", "foo"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "description", "Terraform certificate acceptance test"),
					resource.TestCheckResourceAttr(testAccRancher2CertificateType+".foo", "certs", "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdVVENDQkRtZ0F3SUJBZ0lKQVBueUo1cVAyRUovTUEwR0NTcUdTSWIzRFFFQkJRVUFNSGd4Q3pBSkJnTlYKQkFZVEFsVlRNUk13RVFZRFZRUUlFd3BEWVd4cFptOXlibWxoTVJJd0VBWURWUVFIRXdsRGRYQmxjblJwYm04eApGVEFUQmdOVkJBb1RERkpoYm1Ob1pYSWdUR0ZpY3pFTk1Bc0dBMVVFQ3hNRVZHVnpkREVhTUJnR0ExVUVBeE1SCmRHVnpkQzUwWlhKeVlXWnZjbTB1YVc4d0hoY05NVGt3T1RBeU1UY3lOekF5V2hjTk1qa3dPRE13TVRjeU56QXkKV2pCNE1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFU01CQUdBMVVFQnhNSgpRM1Z3WlhKMGFXNXZNUlV3RXdZRFZRUUtFd3hTWVc1amFHVnlJRXhoWW5NeERUQUxCZ05WQkFzVEJGUmxjM1F4CkdqQVlCZ05WQkFNVEVYUmxjM1F1ZEdWeWNtRm1iM0p0TG1sdk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQWc4QU1JSUNDZ0tDQWdFQXFwUEE5bXBZM1Uwa1N3d1hQRE5ockhBNkhNcGR6WncyeHRKNW56SkE5OW01K1JzUgpaSkg2MXg0VWpzZDRrT1NDY01GRFBHSzIxYVBScFJxaTY1cWt5V1BlVVNHWEJBUUlTOE1iWmpsbHYyaFhTZmlyCmFGb1Jtbk9FOVVNT0ZlWGxEK1kxeVZ4VDhvVDFhQ0RyTDRtYTZ0UURHWU9aUTZqSVNzc1VJN29Oc0hDdG02c3QKcmN1S3N4SHVqOFNLUnAyeDJFUzR2RE43ZkFZYkJsK0NUSXFodDRScUdqWDc2Y0ZRSWs0U215dU8ycWtkdC9mVQpqdlJLeTJPUnQ2MXluN0s0SFA4VU5YRUdZN1lKaGxMTVJ3bExkaWMwMk9OQXFvaUJUOXlvcnBPMFAwNzh4VFFOCmI3bnV5WTBnNTQwOHpuNStrRFJWWENmOW00b0tPU2FadTV0Um1jTkc3b0dteTArTVRzSmxhQXFpTTY3c3RsamMKNUFVRTB4RW1HMStPU2UxeXZNYnBRd21XZC9sK2tWMC9MRFZSS0NXYXVLaUppM29JMFZTQ1JyY2I2ZE9JVnFEcwp6alNZTDRIekx4U1h1dU8zeDdlczZNRWhrTE05SS9WWEFheGM0aDRTdUhUSDJaZzBiWGw1K1BHUWJxenFvMWlMCmE4WHM4N0l1UmdNUlJLb1ZiVHc4SGIzWG1jSFcvSnYvMnJ6dlBxR0xpbmVhZmZ1R2ttQXZpYm5id1hVa1hHY2oKZ1RjSWR1V0dTcS9FZmNjbEMxTHN6RXN6dnltWU5UVjRYdHNGT0sreTRXREgvMVUwY0RmaSs2d09qRXZDM2cxSgpESThqWHRGbEFKU3FjL2dJSWJUUTQyaGtQZnpqZ2hjNVdzUVRNOG1NN1pmaHJkOERGY2FSSW5ob1RZVUNBd0VBCkFhT0IzVENCMmpBZEJnTlZIUTRFRmdRVW92VUNncW9SYXpFcTBJSmlkelZrNkZTd2d3c3dnYW9HQTFVZEl3U0IKb2pDQm40QVVvdlVDZ3FvUmF6RXEwSUppZHpWazZGU3dnd3VoZktSNk1IZ3hDekFKQmdOVkJBWVRBbFZUTVJNdwpFUVlEVlFRSUV3cERZV3hwWm05eWJtbGhNUkl3RUFZRFZRUUhFd2xEZFhCbGNuUnBibTh4RlRBVEJnTlZCQW9UCkRGSmhibU5vWlhJZ1RHRmljekVOTUFzR0ExVUVDeE1FVkdWemRERWFNQmdHQTFVRUF4TVJkR1Z6ZEM1MFpYSnkKWVdadmNtMHVhVytDQ1FENThpZWFqOWhDZnpBTUJnTlZIUk1FQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQlFVQQpBNElDQVFBaWl1UDNzSWlDKzQ5TUQ2R2UxbDFSZ24rbTlsUUNXMGRQVmIwMnpheFZoNC9RdjR2SzBSaXhKUjhoCjhxckJTcGJDOTdmWjZDUml6Q1NRZ2Q0R0w5aWxWYjhFNi9JS2xhNGRkdkRvcllvWkhDMkRZV2lYU29JaVppc2cKajMxS0xMZVV5Ky8yZnI5TWMwakZFSXE5aW5Vamd3ZTlZTmdRcTBEUUZzN3VkaHlGYXZXZzlxL2ZxUDVkU1FOUgpuTE5lRzE3NXlnR0NlTTE5YUlsR1hBZUZ2b1JPdVdOZURGN1BId2tHUGdwTTBPMjl2UWU4VTg0dzBqMUtPa3lRCnRFckkzaVJ0QjFhVjA0SmZJdFJObVNNTnNBTDBiUTM3KzRKdWQvYzNsREthMmRUOGFUSFc4U3FSRTYzWUJlY2gKY1hSUmk4ekcvOFRkTXNTYXVLd1kwVSt5UTNZd2EwWGVtbXpDNkROajlwbndNbjRlaVhDVDkrUFh3Mnd5UDdFNQpmTTBQV2NHeU1YcEI0TXNsVXF5OUtjdTc2QmpLdVE1MElpWjV6bmlDUVorRnZtODZwSVFtcnpsZnkreWU3K1RRCnNuY25Gb0p2SjFPZTNvNjVRRWlCWkk0L2FWa1QvVzQ1UmNpNmxUbTN2b2gva0lDZWJYN05UaCtCQ25Qb0tDK1QKVzMvTjhNOFlwaE91YmprK2hSQkxlRE51TEo5TVhMb28vNVdtSGd0TXZnYWdrL2xnL1RLeU12NmRUd0FWWExSNgpjOUNwYlFoaW0wYW9jQjNwTWlwNTlZSkwrd3htMncrekU1ZzIyVkZveUVNNy92a0UyZk1CeXpTVzNhZE1yZW9QCjdEVFdscDZ3eDlMbmxtZzFWUDlXRlJRd3k2K3NRWFkxa2xOeXp1cHdyMmt1V3lucmpRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="),
				),
			},
		},
	})
}

func TestAccRancher2Certificate_disappears_Namespaced(t *testing.T) {
	var reg interface{}

	resource.Test(t, resource.TestCase{
		Providers:    testAccProviders,
		CheckDestroy: testAccCheckRancher2CertificateDestroy,
		Steps: []resource.TestStep{
			resource.TestStep{
				Config: testAccRancher2CertificateNsConfig,
				Check: resource.ComposeTestCheckFunc(
					testAccCheckRancher2CertificateExists(testAccRancher2CertificateType+".foo", reg),
					testAccRancher2CertificateDisappears(reg),
				),
				ExpectNonEmptyPlan: true,
			},
		},
	})
}

func testAccRancher2CertificateDisappears(reg interface{}) resource.TestCheckFunc {
	return func(s *terraform.State) error {
		for _, rs := range s.RootModule().Resources {
			if rs.Type != testAccRancher2CertificateType {
				continue
			}

			_, projectID := splitProjectID(rs.Primary.Attributes["project_id"])
			namespaceID := rs.Primary.Attributes["namespace_id"]

			reg, err := testAccProvider.Meta().(*Config).GetCertificate(rs.Primary.ID, projectID, namespaceID)
			if err != nil {
				if IsNotFound(err) {
					return nil
				}
				return err
			}

			err = testAccProvider.Meta().(*Config).DeleteCertificate(reg)
			if err != nil {
				return fmt.Errorf("Error removing Certificate: %s", err)
			}
		}
		return nil

	}
}

func testAccCheckRancher2CertificateExists(n string, reg interface{}) resource.TestCheckFunc {
	return func(s *terraform.State) error {
		rs, ok := s.RootModule().Resources[n]

		if !ok {
			return fmt.Errorf("Not found: %s", n)
		}

		if rs.Primary.ID == "" {
			return fmt.Errorf("No registry ID is set")
		}

		_, projectID := splitProjectID(rs.Primary.Attributes["project_id"])
		namespaceID := rs.Primary.Attributes["namespace_id"]

		foundReg, err := testAccProvider.Meta().(*Config).GetCertificate(rs.Primary.ID, projectID, namespaceID)
		if err != nil {
			if IsNotFound(err) {
				return fmt.Errorf("Certificate not found")
			}
			return err
		}

		reg = foundReg

		return nil
	}
}

func testAccCheckRancher2CertificateDestroy(s *terraform.State) error {
	for _, rs := range s.RootModule().Resources {
		if rs.Type != testAccRancher2CertificateType {
			continue
		}

		_, projectID := splitProjectID(rs.Primary.Attributes["project_id"])
		namespaceID := rs.Primary.Attributes["namespace_id"]

		_, err := testAccProvider.Meta().(*Config).GetCertificate(rs.Primary.ID, projectID, namespaceID)
		if err != nil {
			if IsNotFound(err) {
				return nil
			}
			return err
		}
		return fmt.Errorf("Certificate still exists")
	}
	return nil
}
